<div class="detail-section-container">
    <div class="inner-map-section" >
        @if(isPincodeLevelView) {
        <app-pincode-level-map-view class="width-100 height-100"></app-pincode-level-map-view>
        } @else {
            <div *ngIf="loadingData" class="absolute width-100 height-100" style="z-index: 2;">
                <od-loader ></od-loader>
            </div>
                
            <app-pan-india-map
                *ngIf="activeState =='TT'"
                [configData]="configData"
                [mapData]="overallData" 
                class="width-100 height-100"
                [viewType]="activeStyle"
                [visualType]="activeView"></app-pan-india-map>

            <app-state-level-map 
                *ngIf="activeState != 'TT'"
                [mapData]="stateData"
                [visualType]="activeView"
                [configData]="configData" class="width-100 height-100">
            </app-state-level-map>
        }
        
    </div>

    @if(!isPincodeLevelView) {
    <div class="map-options-section">
        <div class="view-options-section">
            <div style="display: flex; align-items: center; gap: 8px" class="margin-bottom-3">
                <div style="
                    padding: 4px;
                    background: #1c75bc;
                    border-radius: 20px;
                    height: 22px;
                    width: 22px;
                    display: flex;
                    place-content: center;
                    align-items: center;
                ">
                    <i class="fa-solid fa-eye" style="color: #1c75bc;
                        background: white;
                        border-radius: 50%;
                        padding: 2px;
                        font-size: 10px;
                        display: flex;
                        place-content: center;
                        align-items: center;"></i>
                </div>
                <p class="margin-0 font-bolder font-xs">Choose Map Visual</p>
                <!-- <div class="pulse"></div> -->
            </div>
            <nz-divider style="margin: 4px 0;"></nz-divider>
            <nz-radio-group style="padding: 12px 4px 4px" [(ngModel)]="activeView" class="options-container">
                @for(option of viewsOptions; track option.type) {
                <label nz-radio [nzValue]="option.type" (click)="updateViewSelection(option)">
                    {{option.title}}
                </label>
                }
            </nz-radio-group>
        </div>
        <div class="view-options-section" *ngIf="activeState =='TT'">
            <div style="display: flex; align-items: center; gap: 8px" class="margin-bottom-3">
                <div style="
                    padding: 4px;
                    background: #1c75bc;
                    border-radius: 20px;
                    height: 22px;
                    width: 22px;
                    display: flex;
                    place-content: center;
                    align-items: center;
                ">
                    <i class="fa-solid fa-eye" style="color: #1c75bc;
                        background: white;
                        border-radius: 50%;
                        padding: 2px;
                        font-size: 10px;
                        display: flex;
                        place-content: center;
                        align-items: center;"></i>
                </div>
                <p class="margin-0 font-bolder font-xs">Choose Map Style</p>
                <!-- <div class="pulse"></div> -->
            </div>
            <nz-divider style="margin: 4px 0;"></nz-divider>
            <nz-radio-group style="padding: 12px 4px 4px" [(ngModel)]="activeStyle" class="options-container">
                @for(option of stylesOptions; track option.type) {
                <label nz-radio [nzValue]="option.type" (click)="updateStyleSelection(option)">
                    {{option.title}}
                </label>
                }
            </nz-radio-group>
        </div>
    </div>
    <div class="absolute bottom-1 left-1">
        <app-map-legends></app-map-legends>
    </div>
    }

</div>