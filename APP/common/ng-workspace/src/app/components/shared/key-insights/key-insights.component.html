<div class="key-insight-main-container">
  <div class="carousel">
    <div class="carousel__list">
      <div
        *ngFor="let card of elems"
        class="carousel__item"
        [class.carousel__item_active]="card.active"
        (click)="onCardClick(card.pos)"
        [attr.data-pos]="card.pos"
      >
       {{card.cardText}}
        <!-- <p>Card {{ card.pos }}</p> -->
      </div>
    </div>
  </div>

  @for(card of elems; track card) {
    @if(card?.active) {
      <div class="active-card-content-section">
        <!-- <p class="margin-0 heading">
          {{ card.cardText }}
        </p> -->
        @if(card.title) {
          <p class="margin-0 title">
            {{card.title}}
          </p>
        }
        @if(card.subText) {
          <p class="margin-0 sub-title">
            {{card.subText}}
          </p>
        }

        <div class="view-btn" *ngIf="card?.metaData" (click)="metaDataChecked = !metaDataChecked">
          View {{ metaDataChecked ? 'less' : 'more' }}
        </div>
      </div>

    }
  }

  @if(elems.indexOf(activeItem) == 2) {
    <div style="display: flex;
    place-content: center;
    flex-direction: column;
    place-content: center;
    width: max-content;
    margin: auto;" >

      <div style="display: flex; gap: 10px;" class="open-data-grey-800">
        <span style="min-width: 160px;">1. F&B</span>
        <span style="min-width: 120px;"> | F&B</span>
        <p class="margin-0" style="min-width: 120px;"> , Total Orders = 
          <span class="open-data-grey-900 font-bolder"> 15,15,290 </span></p>
      </div>
      <div style="display: flex; gap: 10px;" class="open-data-grey-800">
        <span style="min-width: 160px;">2. Fruits and Vegetables</span>
        <span style="min-width: 120px;"> | Grocery</span>
        <p class="margin-0" style="min-width: 120px;"> , Total Orders = 
          <span class="open-data-grey-900 font-bolder"> 5,85,698 </span></p>
      </div>
      <div style="display: flex; gap: 10px;" class="open-data-grey-800">
        <span style="min-width: 160px;">3. Dairy and Cheese</span>
        <span style="min-width: 120px;"> | Grocery</span>
        <p class="margin-0" style="min-width: 120px;"> , Total Orders = 
          <span class="open-data-grey-900 font-bolder"> 2,90,307 </span></p>
      </div>
      <div style="display: flex; gap: 10px;" class="open-data-grey-800">
        <span style="min-width: 160px;">4. Home Decor</span>
        <span style="min-width: 120px;"> | Home & Kitchen</span>
        <p class="margin-0" style="min-width: 120px;"> , Total Orders = 
          <span class="open-data-grey-900 font-bolder"> 1,32,883 </span></p>
      </div>
      <div style="display: flex; gap: 10px;" class="open-data-grey-800">
        <span style="min-width: 160px;">5. Cleaning & Household</span>
        <span style="min-width: 120px;"> | Grocery</span>
        <p class="margin-0" style="min-width: 120px;"> , Total Orders = 
          <span class="open-data-grey-900 font-bolder"> 96,373 </span></p>
      </div>

    </div>
  }

  @if(elems.indexOf(activeItem) == 3) {
    <div style="display: flex;
    place-content: center;
    flex-direction: column;
    place-content: center;
    width: max-content;
    margin: auto;">
      <div style="display: flex; gap: 10px;" class="open-data-grey-800">
        <span style="min-width: 120px;">1. Cable</span>
        <span style="min-width: 120px;"> | Electronics</span>
        <p class="margin-0" style="min-width: 120px;"> , % Growth = <span class="open-data-grey-900 font-bolder">21,250</span></p>
      </div>
      <div style="display: flex; gap: 10px;" class="open-data-grey-800">
        <span style="min-width: 120px;">2. Paneer</span>
        <span style="min-width: 120px;"> | F&B</span>
        <p class="margin-0" style="min-width: 120px;"> , % Growth = <span class="open-data-grey-900 font-bolder">3,086</span></p>
      </div>
      <div style="display: flex; gap: 10px;" class="open-data-grey-800">
        <span style="min-width: 120px;">3. Boxers</span>
        <span style="min-width: 120px;"> | Fashion</span>
        <p class="margin-0" style="min-width: 120px;"> , % Growth = <span class="open-data-grey-900 font-bolder">2,384</span></p>
      </div>
    </div>
  }

  @if(elems.indexOf(activeItem) == 1) {
    <div style="max-width: 720px; margin: 24px auto 0 !important;">
      <apx-chart
        [series]="chartOptions.series"
        [chart]="chartOptions.chart"
        [dataLabels]="chartOptions.dataLabels"
        [plotOptions]="chartOptions.plotOptions"
        [xaxis]="chartOptions.xaxis"
        [stroke]="chartOptions.stroke"
        [fill]="chartOptions.fill"
        [yaxis]="chartOptions.yaxis"
        [title]="chartOptions.title"
        [tooltip]="chartOptions.tooltip"
        [legend]="chartOptions.legend"
      ></apx-chart>
    </div>
  }

  @if(elems.indexOf(activeItem) == 4) {

    <div class="card-body-section margin-top-2 relative">
      <div class="inner-card">
          <p class="margin-0 text-center font-bold">< 1,000 <br/>
              <span class="font-normal open-data-grey-700">
                  Orders per day
              </span>
          </p>
          <app-radial-bar-chart [data]="stateWiseBin['\< 1,000']">
          </app-radial-bar-chart>
      </div>
      <div class="inner-card">
          <p class="margin-0 text-center font-bold">1,000 - 5,000<br/>
              <span class="font-normal open-data-grey-700">
                  Orders per day
              </span>
          </p>
          <app-radial-bar-chart [data]="stateWiseBin['1,000 - 5,000']">
          </app-radial-bar-chart>
      </div>
      <div class="inner-card">
          <p class="margin-0 text-center font-bold">5,000 - 10,000<br/>
              <span class="font-normal open-data-grey-700">
                  Orders per day
              </span>
          </p>
          <app-radial-bar-chart [data]="stateWiseBin['5,000 - 10,000']">
          </app-radial-bar-chart>
      </div>
      <div class="inner-card">
          <p class="margin-0 text-center font-bold">> 10,000<br/>
              <span class="font-normal open-data-grey-700">
                  Orders per day
              </span>
          </p>
          <app-radial-bar-chart [data]="stateWiseBin['> 1,000']">
          </app-radial-bar-chart>
      </div>
  </div>
  }

<!-- 
  @if(metaDataChecked) {
    <div class="meta-data-container">
      <app-column-chart></app-column-chart>
    </div>
  } -->
  

</div>